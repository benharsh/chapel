#!/usr/bin/env python

import sys

dest = "errors.good"
outFile = sys.argv[2]

mode = ""
good = ""

with open(outFile, 'r') as f:
    mode = f.read().split('\n')[0] + "\n"

with open("errors.full", 'r') as f:
    use = False
    for l in f:
        if l == mode:
            good += l
            use = True
        elif use:
            good += l
            break


with open(dest, 'w') as f:
    f.write(good)
